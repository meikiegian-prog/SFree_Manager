<!-- é¡¹ç›®è¯¦æƒ…é¡µ - HCIï¼šä¿¡æ¯å¯è§†åŒ–ã€æç®€æ“ä½œ -->
<view class="project-detail" wx:if="{{project}}">
  <!-- é¡¹ç›®åŸºæœ¬ä¿¡æ¯ -->
  <view class="project-header">
    <view class="project-name">{{project.name}}</view>
    <view class="project-status {{project.status}}">
      {{project.status === 'finished' ? 'å·²å®Œæˆ' : project.status === 'timeout' ? 'å·²è¶…æ—¶' : 'è¿›è¡Œä¸­'}}
    </view>
  </view>

  <!-- é¡¹ç›®æ•°æ® -->
  <view class="project-data p-30">
    <view class="data-item">
      <text class="data-label">
        <view class="icon">â±ï¸</view>ç´¯è®¡æ—¶é•¿
      </text>
      <text class="data-value">{{formattedTotalTime}}</text>
    </view>
    <view class="data-item">
      <text class="data-label">
        <view class="icon">ğŸ“…</view>åˆ›å»ºæ—¶é—´
      </text>
      <text class="data-value">{{project.createTime}}</text>
    </view>
    <view class="data-item">
      <text class="data-label">
        <view class="icon">â°</view>æˆªæ­¢æ—¥æœŸ
      </text>
      <text class="data-value">{{project.deadline || 'æœªè®¾ç½®'}}</text>
    </view>
    <view class="data-item">
      <text class="data-label">
        <view class="icon">ğŸ’°</view>é¢„è®¡æ”¶å…¥
      </text>
      <text class="data-value">Â¥{{project.income || 0}}</text>
    </view>
  </view>

    <!-- ç¼–è¾‘åŒºåŸŸ -->
    <view class="project-edit p-30">
      <!-- é¡¹ç›®åç§°ç¼–è¾‘ -->
      <view class="edit-item">
        <text class="edit-label">é¡¹ç›®åç§°</text>
        <input 
          class="edit-input" 
          type="text" 
          placeholder="è¾“å…¥é¡¹ç›®åç§°"
          value="{{project.name || ''}}"
          bindinput="onNameChange"
          maxlength="50"
        />
      </view>

      <!-- æˆªæ­¢æ—¥æœŸé€‰æ‹© - åˆ†å¼€é€‰æ‹©æ—¥æœŸå’Œæ—¶é—´ -->
      <view class="edit-item">
        <text class="edit-label">è®¾ç½®æˆªæ­¢æ—¥æœŸ</text>
        <picker mode="date" value="{{deadlineDate}}" bindchange="onDateChange">
          <view class="picker-view">{{deadlineDate || 'é€‰æ‹©æ—¥æœŸ'}}</view>
        </picker>
      </view>
      
      <view class="edit-item">
        <text class="edit-label">è®¾ç½®æˆªæ­¢æ—¶é—´</text>
        <picker mode="time" value="{{deadlineTime}}" bindchange="onTimeChange">
          <view class="picker-view">{{deadlineTime || 'é€‰æ‹©æ—¶é—´'}}</view>
        </picker>
      </view>

      <!-- æ”¶å…¥è®¾ç½® -->
      <view class="edit-item">
        <text class="edit-label">è®¾ç½®é¢„è®¡æ”¶å…¥</text>
        <input 
          class="edit-input" 
          type="number" 
          placeholder="è¾“å…¥é‡‘é¢"
          value="{{project.income || ''}}"
          bindinput="onIncomeChange"
        />
      </view>
    </view>

  <!-- åº•éƒ¨æ“ä½œæŒ‰é’® -->
  <view class="project-actions p-30">
    <button class="btn btn-primary save-btn" bindtap="saveProject">ä¿å­˜ä¿®æ”¹</button>
    <button class="btn btn-warning delete-btn" bindtap="deleteProject">åˆ é™¤é¡¹ç›®</button>
  </view>
</view>

<!-- ç©ºçŠ¶æ€ -->
<view class="empty-tip" wx:else>
  é¡¹ç›®ä¸å­˜åœ¨æˆ–å·²è¢«åˆ é™¤
</view>